<!-- templates/inference.html -->
{% extends "base.html" %}
{% block content %}
<section class="card big">
  <h1 class="center">Aerial Vehicle Detection</h1>

  <form id="inferenceForm" enctype="multipart/form-data">
    <div class="upload-row">
      <label class="file-label">Upload an aerial image:</label>
      <input id="imageInput" name="file" type="file" accept="image/*" />
    </div>

    <div class="controls">
      <button type="button" class="run-detect primary">Run Detection</button>
      <button type="button" id="clearBtn" class="ghost">Clear</button>
    </div>

    <div style="margin-top:18px;">
      <div class="result-area">
        <div class="result-left">
          <h3>Preview</h3>
          <img id="preview" class="tv-preview" src="#" style="display:none; max-width:420px; border-radius:8px;"/>
        </div>
        <div class="result-right">
          <h3>Detection Output</h3>
          <div id="status" class="tv-status status">Idle â€” choose an image and click <b>Run Detection</b>.</div>
          <div id="meta" class="tv-meta" style="margin-top:8px;"></div>
          <img id="resultImg" class="tv-annotated" src="" alt="annotated" style="display:none; max-width:640px; margin-top:10px; border-radius:8px;" />
        </div>
      </div>
    </div>

    <div class="iot-area" style="margin-top:12px;">
      <h3>IoT Simulator (auto-trigger)</h3>
      <div id="iotOutput" class="tv-iot">No alerts yet.</div>
    </div>

  </form>
</section>
{% endblock %}
